# 🧠 正規表現（RegExp）チートシート

> JavaScriptなどで文字列の中から特定のパターンを探すときに使う。  
> `/パターン/フラグ` の形で書く。

---

## 🎯 よく使う構文

| 記号 | 意味 | 例 | マッチする文字 |
|------|------|----|----------------|
| `.` | なんでも1文字 | `a.b` | `acb`, `a-b`, `a1b` |
| `\s` | 空白（スペース・改行・タブ） | `\s+` | 半角スペース1個以上 |
| `\S` | 空白以外 | `\S+` | 単語など（空白で区切られる） |
| `\d` | 数字（0〜9） | `\d+` | `123` |
| `\D` | 数字以外 | `\D+` | `abc` |
| `\w` | 英数字とアンダースコア `_` | `\w+` | `abc123_` |
| `\W` | 英数字と `_` 以外 | `\W+` | `!?@` |
| `^` | 行の先頭 | `^USER` | `USER`で始まる行 |
| `$` | 行の終わり | `end$` | `end`で終わる行 |
| `[]` | どれか1文字 | `[abc]` | `a`, `b`, `c` |
| `[^]` | 以外の1文字 | `[^0-9]` | 数字以外 |
| `()` | グループ化 | `(dog|cat)` | `dog` または `cat` |
| `|` | または | `red|blue` | `red` または `blue` |
| `?` | 0回または1回 | `colou?r` | `color`, `colour` |
| `*` | 0回以上 | `go*gle` | `ggle`, `google`, `gooogle` |
| `+` | 1回以上 | `a+` | `a`, `aa`, `aaa` |
| `{n}` | ちょうどn回 | `\d{3}` | 3桁の数字 |
| `{n,}` | n回以上 | `\d{2,}` | 2桁以上の数字 |
| `{n,m}` | n〜m回 | `\d{2,4}` | 2〜4桁の数字 |

---

## 🏷 よく使うフラグ（末尾の `/g`, `/i`, `/m`）

| フラグ | 意味 | 例 |
|--------|------|----|
| `g` | global：全部見つける | `/USER/g` |
| `i` | ignoreCase：大文字小文字を区別しない | `/user/i` → `USER`もOK |
| `m` | multiLine：複数行で `^` と `$` を行ごとに扱う | `/^USER/m` |

---

## 📦 よくあるパターン集

| やりたいこと | 正規表現 | 説明 |
|---------------|------------|------|
| 英小文字1文字以上 | `[a-z]+` | `a`, `abc` |
| 英大文字1文字以上 | `[A-Z]+` | `HELLO` |
| 英数字1文字以上 | `[a-zA-Z0-9]+` | `abc123` |
| メールアドレスっぽい文字列 | `\S+@\S+\.\S+` | シンプルなメール検出 |
| URLっぽい文字列 | `https?:\/\/\S+` | `http://` や `https://` |
| 日付（YYYY-MM-DD） | `\d{4}-\d{2}-\d{2}` | 例：`2025-11-06` |
| スペース区切りの2単語 | `\S+\s+\S+` | 例：`USER:ken status:late` |
| 先頭と末尾の空白を削除 | `/^\s+|\s+$/g` | `replace`で使う空白除去用 |

---

## 🧩 実例：今回のケース

```js
/USER:([a-z]+)\s+status:(late|on_time)/g
部分	意味
USER:	「USER:」という固定文字
([a-z]+)	小文字の名前（例: taro）をキャプチャ
\s+	空白1個以上（USERとstatusの間）
status:	「status:」という固定文字
`(late	on_time)`
/g	全部見つける（繰り返し）

⚙️ JavaScriptでの使い方例


コードをコピーする
const text = "USER:taro status:late USER:hanako status:on_time";
const regex = /USER:([a-z]+)\s+status:(late|on_time)/g;

let m;
while ((m = regex.exec(text)) !== null) {
  console.log(m[1], m[2]);
}
出力：

nginx
コードをコピーする
taro late
hanako on_time
💡 ワンポイントTips
() で囲んだ部分は m[1], m[2] のように取り出せる

? や + は「どこまで取るか」をコントロールする

見やすく試すなら 👉 https://regex101.com

yaml
コードをコピーする

---

📎 このままファイル名を  
`regex-cheatsheet.md`  
として保存すれば、VSCodeやGitHubで綺麗に表示されます。  

希望があれば「色付きFigma風チートシート」も生成できます（背景・強調つき）。作りますか？